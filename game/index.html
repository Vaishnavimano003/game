<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game : Rock Paper Scissor</title>
     
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <h1 >Game : Rock Paper Scissor</h1>
    <h2>Choose a button below to play</h2>
    
    <button 
    onclick="playGame('rock')"
    ><img src="https://cdn-icons-png.flaticon.com/128/4405/4405457.png" alt="Rock" height="70px";></button>
     
    <button 
    onclick="playGame('paper')"
    ><img src="https://cdn-icons-png.flaticon.com/128/3790/3790171.png" alt="Paper" height="70px";></button>


    <button 
    onclick="playGame('scissor')"
    ><img src="https://cdn.icon-icons.com/icons2/1518/PNG/96/scissormono_105867.png" alt="Scissor"  height="70px";></button>

    <div id="computer-move">
        <h2>Computer Move:</h2>
        <img id="computer-move-img" src="" alt="Computer Move" height="70px">
    </div>
    
    <div id="result"></div>

    <div id="total-score"></div>

    <div id="final-score"></div>

    <script>
       
       let playerScore = 0;
       let computerScore = 0;
       let round =0;

       function playGame(playerMove){
            const computerMove = pickComputerMove();
            let result = '';


            if(playerMove === 'scissor'){
                if(computerMove=='rock'){
                    result="You Lose";
                    computerScore++;
                }
                else if(computerMove == 'paper'){
                    result="You Win";
                    playerScore++;
                }
                else if(computerMove === 'scissor'){
                    result="Tie";
                }
            }
            else if(playerMove==="paper"){
                if(computerMove=='rock'){
                    result="You Win";
                    playerScore++;
                }
                else if(computerMove == 'paper'){
                    result="Tie";
                }
                else if(computerMove === 'scissor'){
                    result="You Lose";
                    computerScore++;
                }
            }
            else if(playerMove==="rock"){
                if(computerMove=='rock'){
                    result="Tie";
                }
                else if(computerMove == 'paper'){
                    result="You Lose";
                    computerScore++;
                }
                else if(computerMove === 'scissor'){
                    result="You Win";
                    playerScore++;
                }
            }
            round++;

            document.getElementById("result").innerText = result;


            document.getElementById("computer-move-img").src = getImageUrl(computerMove);

            document.getElementById("total-score").innerHTML = `<p>Total Score - Player: ${playerScore}, Computer: ${computerScore}</p>`;

            if(round === 10){

                document.getElementById("result").innerText = '';

                if(playerScore > computerScore){
                    document.getElementById("final-score").innerText = "You Won the Match";
                }
                else if(playerScore < computerScore){
                    document.getElementById("final-score").innerText = "You Lost the match Better Luck next time";
                }
                else if(playerScore === computerScore){
                    document.getElementById("final-score").innerText ="It's a Tie";
                }
            }
                // document.getElementById("final-score").innerHTML = `<p>Total Score - Player: ${playerScore}, Computer: ${computerScore}</p>`;
            if(round > 10){

                const continueGame = confirm("Do you want to continue playing?");
        
                if (continueGame) {
                    // Reset scores and round count
                    playerScore = 0;
                    computerScore = 0;
                    round = 0;
                    document.getElementById("result").innerHTML = ''; // Clear previous results
                    document.getElementById("total-score").innerHTML = ''; // Clear previous total score
                    document.getElementById("final-score").innerHTML = '';
                } else {
                    // Display message thanking the player for playing
                    document.getElementById("total-score").innerHTML = ''; // Clear previous total score
                    document.getElementById("final-score").innerHTML = '<p>Thank you for playing!</p>';
                    document.getElementById("result").innerHTML = '';
                }
            }
       }

       function pickComputerMove(){
        const randomNumber = Math.random();
        
        let computerMove = "";
        
        if(randomNumber >= 0 && randomNumber < 1/3){
            computerMove = "rock";
        }
        else if(randomNumber >= 1/3 && randomNumber < 2/3){
            computerMove = "paper";
        }
        else if(randomNumber >= 2/3 && randomNumber < 1){
            computerMove = "scissor";
        }

        return computerMove;
    }
        function getImageUrl(move){
            if (move === 'rock') {
                return 'https://cdn-icons-png.flaticon.com/128/4405/4405457.png';
            } else if (move === 'paper') {
                return 'https://cdn-icons-png.flaticon.com/128/3790/3790171.png';
            } else if (move === 'scissor') {
                return 'https://cdn.icon-icons.com/icons2/1518/PNG/96/scissormono_105867.png';
            } 
       }
    
    </script>
    
</body>
</html>